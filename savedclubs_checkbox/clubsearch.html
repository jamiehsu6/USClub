<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <script src="https://kit.fontawesome.com/7a4b9a1495.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="../css/main.css"> 
        
       <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
       <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    </head>

    <main>
        <body>
      
         <div class="pagetitle"><h1>Club Search</h1></div> 
         
         <a href="saved.html">Saved Clubs</a>
      
         <div class="searchbar">
          <input placeholder="Find your community..." id="searchBar" name="searchBar" type="text" onkeyup="search()">
         </div>
      
      <!--
         <div class="checklist">
          <input
          type="checkbox"
          id="business"
          name="business"
          required />
         <label for="business"
         >Business</label>
         
         <input
         type="checkbox"
         id="arts"
         name="arts"
         required />
        <label for="arts"
        >Arts</label> 
      <br/>
      
      <input
      type="checkbox"
      id="sports"
      name="sports"
      required />
      <label for="sports"
      >Sports</label>
      
      <input
      type="checkbox"
      id="health"
      name="health"
      required />
      <label for="health"
      >Health</label> 
      
      <br/>
      <input
      type="checkbox"
      id="government"
      name="government"
      required />
      <label for="government"
      >Government</label>
      
      <input
      type="checkbox"
      id="technology"
      name="technology"
      required />
      <label for="technology"
      >Technology</label>
      
      </div>
      -->
      
      <div class="wrapper clubs" id="club-list">
          <section class="club" id="tmg-color">
              <input 
              type="checkbox"
              id="tmg"
              name="tmg" />
              <p id="name">Trojan Marketing Group</p>
          </section>
      
          <section class="club">
              <input
              type="checkbox"
              id="wvc"
              name="wvc" />
              <p id="name">Women's Volleyball Club</p>
          </section>
      
          <section class="club">
              <input
              type="checkbox"
              id="innod"
              name="innod" />
              <p id="name"> Innovation Design Club</p>
          </section>
      
          <section class="club">
              <input
              type="checkbox"
              id="rdc"
              name="rdc" />
              <p id="name">Red Cross Club</p>
          </section>
      
          <section class="club">
              <input
              type="checkbox"
              id="spark"
              name="spark" />
              <p id="name">Spark SC</p>
          </section>
      
          <section class="club">
              <input
              type="checkbox"
              id="bsa"
              name="bsa" />
              <p id="name">Black Student Alliance</p>
          </section>
      
      </div>
      
      
      </main>
      
      <div id="contentContainer" style="display:none;"></div>
      
      <script>
      
      // sync checkbox state (local storage)
      function syncCheckboxState() {
                  document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                      const state = localStorage.getItem(checkbox.id);
                      if (state !== null) {
                          checkbox.checked = (state === 'true');
                          console.log('sync');
                      }
                  });
              }
      
              //sync when load
              syncCheckboxState();
              
              //add localstorage event listeners
              document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                  checkbox.addEventListener('change', function() {
                      localStorage.setItem(this.id, this.checked);
                      console.log('attached');
                      //if (!this.checked) {
                      //localStorage.removeItem(this.id); // Remove item if unchecked
                      //console.log('remove');
                      //}
                  });
              });
      
          // Fetch the content of the other HTML file
          fetch('saved.html')
              .then(response => response.text())
              .then(html => {
                  // Inject the content into the current document
                  document.getElementById('contentContainer').innerHTML = html;
                  console.log('content container');
                  // Add event listener for when the injected content is fully loaded
                  document.getElementById('contentContainer').addEventListener('DOMContentLoaded', function() {
                      // Now you can interact with the injected content here
                      // For example, you can access its elements and perform operations
                  });
              })
              .catch(error => console.error('Error fetching content:', error));
      </script>
      
      <script src="saved.js"></script> 
      
      </body>
      </html>